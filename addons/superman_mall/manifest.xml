<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns="http://www.tule5.com" versionCode="0.6">
	<application setting="false">
		<name><![CDATA[【超人】超级商城]]></name>
		<identifie><![CDATA[superman_mall]]></identifie>
		<version><![CDATA[4.0.0]]></version>
		<type><![CDATA[business]]></type>
		<ability><![CDATA[【超人】超级商城]]></ability>
		<description><![CDATA[【超人】超级商城]]></description>
		<author><![CDATA[图乐源码]]></author>
		<url><![CDATA[http://www.tule5.com]]></url>
	</application>
	<platform>
		<subscribes>
			<message type="text" />
			<message type="image" />
			<message type="voice" />
			<message type="video" />
			<message type="shortvideo" />
			<message type="location" />
			<message type="link" />
			<message type="subscribe" />
			<message type="unsubscribe" />
			<message type="qr" />
			<message type="trace" />
			<message type="click" />
			<message type="view" />
			<message type="merchant_order" />
		</subscribes>
		<handles>
			<message type="image" />
			<message type="voice" />
			<message type="video" />
			<message type="shortvideo" />
			<message type="location" />
			<message type="link" />
			<message type="subscribe" />
			<message type="qr" />
			<message type="trace" />
			<message type="click" />
			<message type="merchant_order" />
			<message type="text" />
		</handles>
		<rule embed="true" />
		<card embed="true" />
	</platform>
	<bindings>
        <cover call="coreMenus">
            <entry title="首页入口" do="home" state="" direct="false" />
            <entry title="个人中心入口" do="my" state="" direct="false" />
            <entry title="我的订单入口" do="order" state="" direct="false" />
            <entry title="秒杀入口" do="seckill" state="" direct="false" />
            <entry title="拼团入口" do="mgroupon" state="" direct="false" />
			<entry title="商户入驻" do="shopreg" state="" direct="false" />
			<entry title="分销入口" do="partner" state="" direct="false" />
			<entry title="商户列表" do="shoplist" state="" direct="false" />
        </cover>
        <home>
            <entry title="超级商城" do="home" state="" direct="false" />
        </home>
        <profile>
            <entry title="超级商城" do="home" state="" direct="false" />
        </profile>
        <menu call="businessMenus"> 

        </menu>
		<mine call="customMenus">
		</mine>
	</bindings>
	<install><![CDATA[DROP TABLE IF EXISTS `ims_superman_mall_cart`;
CREATE TABLE `ims_superman_mall_cart` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `uniacid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '公众号id',
  `uid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '会员id',
  `itemid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '产品id',
  `total` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '数量',
  `skuid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '商品规格id',
  `sku` text COMMENT '规格内容快照,当skuid=0时,保存的是原sku信息',
  `checked` tinyint(4) NOT NULL DEFAULT '0' COMMENT '选择状态,0:未选,1:已选',
  `dateline` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '时间戳',
  PRIMARY KEY (`id`),
  KEY `ind_uniacid` (`uniacid`),
  KEY `ind_uid` (`uid`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

DROP TABLE IF EXISTS `ims_superman_mall_checkout_code`;
CREATE TABLE `ims_superman_mall_checkout_code` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '公众号id',
  `shopid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '店铺id',
  `title` varchar(100) NOT NULL DEFAULT '' COMMENT '名称',
  `code` varchar(50) NOT NULL DEFAULT '' COMMENT '验证码',
  `remark` varchar(500) NOT NULL DEFAULT '' COMMENT '备注',
  `dateline` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '时间戳',
  PRIMARY KEY (`id`),
  KEY `ind_uniacid` (`uniacid`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

DROP TABLE IF EXISTS `ims_superman_mall_checkout_log`;
CREATE TABLE `ims_superman_mall_checkout_log` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '公众号id',
  `shopid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '店铺id',
  `uid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '会员id',
  `orderid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '订单id',
  `ordersn` varchar(50) NOT NULL DEFAULT '' COMMENT '订单号',
  `checkout_id` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '核销人id(checkout_user.id|checkout_code.id)',
  `type` tinyint(4) NOT NULL DEFAULT '0' COMMENT '核销类型,1:扫码,2:自助',
  `remark` varchar(500) NOT NULL DEFAULT '' COMMENT '备注',
  `dateline` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '时间戳',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uniq_uo` (`uniacid`,`ordersn`),
  KEY `ind_orderid` (`orderid`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

DROP TABLE IF EXISTS `ims_superman_mall_checkout_user`;
CREATE TABLE `ims_superman_mall_checkout_user` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '公众号id',
  `shopid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '店铺id',
  `uid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '会员id',
  `openid` varchar(50) NOT NULL DEFAULT '' COMMENT 'openid',
  `status` tinyint(4) NOT NULL DEFAULT '0' COMMENT '状态,0:未绑定,1:正常',
  `remark` varchar(500) NOT NULL DEFAULT '' COMMENT '备注',
  `dateline` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '时间戳',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uniq_us` (`shopid`,`uid`)
) ENGINE=MyISAM AUTO_INCREMENT=2 DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

DROP TABLE IF EXISTS `ims_superman_mall_comment`;
CREATE TABLE `ims_superman_mall_comment` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '公众号id',
  `shopid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '店铺id',
  `uid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '会员id',
  `orderid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '订单id',
  `itemid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '产品id',
  `ordersn` varchar(50) NOT NULL DEFAULT '' COMMENT '订单号',
  `score` int(11) NOT NULL DEFAULT '0' COMMENT '评分,1-5分',
  `message` text NOT NULL COMMENT '评价内容',
  `img` text NOT NULL COMMENT '晒单图片,最多5张图片',
  `anonymous` tinyint(4) NOT NULL DEFAULT '0' COMMENT '是否匿名,0:否,1:是',
  `status` tinyint(4) NOT NULL DEFAULT '0' COMMENT '状态,0:待审核,1:审核通过,2:审核拒绝',
  `dateline` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '时间戳',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uniq_suoi` (`shopid`,`uid`,`orderid`,`itemid`),
  KEY `ind_us` (`uniacid`,`status`),
  KEY `ind_ss` (`shopid`,`status`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

DROP TABLE IF EXISTS `ims_superman_mall_country`;
CREATE TABLE `ims_superman_mall_country` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `title` varchar(255) NOT NULL DEFAULT '' COMMENT '国家名称',
  `areacode` varchar(20) NOT NULL DEFAULT '' COMMENT '区号',
  `mobile_pattern` varchar(255) NOT NULL DEFAULT '' COMMENT '手机正则',
  `isshow` tinyint(4) NOT NULL DEFAULT '0' COMMENT '是否显示,0:否,1:是',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM AUTO_INCREMENT=137 DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

DROP TABLE IF EXISTS `ims_superman_mall_express_company`;
CREATE TABLE `ims_superman_mall_express_company` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '公众号id',
  `title` varchar(255) NOT NULL DEFAULT '' COMMENT '名称',
  `alias` varchar(255) NOT NULL DEFAULT '' COMMENT '别名',
  PRIMARY KEY (`id`),
  KEY `ind_uniacid` (`uniacid`)
) ENGINE=MyISAM AUTO_INCREMENT=870 DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

DROP TABLE IF EXISTS `ims_superman_mall_item`;
CREATE TABLE `ims_superman_mall_item` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT COMMENT '产品id',
  `uniacid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '公众号id',
  `shopid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '店铺id',
  `userid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '操作人id',
  `type` tinyint(4) NOT NULL DEFAULT '0' COMMENT '类型,1:实物,2:虚拟',
  `title` varchar(255) NOT NULL DEFAULT '' COMMENT '标题',
  `subtitle` varchar(255) NOT NULL DEFAULT '' COMMENT '副标题',
  `ccid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '三级分类id',
  `cid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '分类id',
  `pcid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '父分类id',
  `number` varchar(50) NOT NULL DEFAULT '' COMMENT '货号',
  `cover` varchar(255) NOT NULL DEFAULT '' COMMENT '封面图',
  `album` mediumtext COMMENT '相册',
  `summary` varchar(500) NOT NULL DEFAULT '' COMMENT '简介',
  `description` mediumtext COMMENT '详细描述',
  `postage` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '邮费',
  `postage_tmplid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '邮费模板id',
  `view_count` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '浏览数',
  `share_count` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '分享数',
  `comment_count` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '评论数',
  `comment_praise_count` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '好评数,评分4-5',
  `comment_mid_count` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '中评数,评分2-3',
  `comment_bad_count` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '差评数,评分1',
  `market_price` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '市场价',
  `cost_price` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '成本价',
  `price` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '销售价',
  `cash_credit` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '最多抵现积分',
  `total` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '总库存',
  `sales` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '总销量',
  `minus_total` tinyint(4) NOT NULL DEFAULT '0' COMMENT '减库存方式,1:付款减,2:拍下减',
  `delivery_mode` tinyint(4) NOT NULL DEFAULT '0' COMMENT '配送方式:0全部,1快递,2自提',
  `extend` mediumtext COMMENT '扩展内容',
  `isreceipt` tinyint(4) NOT NULL DEFAULT '0' COMMENT '是否有发票,0:否,1:是',
  `isrepair` tinyint(4) NOT NULL DEFAULT '0' COMMENT '是否保修,0:否,1:是',
  `ischeckout` tinyint(4) NOT NULL DEFAULT '0' COMMENT '是否可核销,0:否,1:是',
  `iscash` tinyint(4) NOT NULL DEFAULT '0' COMMENT '是否可货到付款,0:否,1:是',
  `customs_clearance` tinyint(4) NOT NULL DEFAULT '0' COMMENT '是否需要清关,0:否,1:是',
  `weight` varchar(50) NOT NULL DEFAULT '' COMMENT '重量(kg)',
  `status` tinyint(4) NOT NULL DEFAULT '0' COMMENT '状态,0:已下架,1:已上架,2:禁售',
  `special` tinyint(4) NOT NULL DEFAULT '0' COMMENT '特殊标识,0:普通,1:秒杀,2:拼团,3:团购',
  `seckill_time` tinyint(4) NOT NULL DEFAULT '0' COMMENT '秒杀时间,8,12,16,20点场',
  `partner_open` tinyint(4) NOT NULL DEFAULT '0' COMMENT '开启分销,0关闭,1开启',
  `displayorder` int(11) NOT NULL DEFAULT '0' COMMENT '排序,先大后小',
  `position` int(11) NOT NULL DEFAULT '0' COMMENT '手机端商品列表排序,先大后小',
  `starttime` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '开始时间戳',
  `endtime` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '结束时间戳',
  `createtime` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '创建时间戳',
  `updatetime` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '更新时间戳',
  PRIMARY KEY (`id`),
  KEY `ind_usccp` (`uniacid`,`status`,`ccid`,`cid`,`pcid`),
  KEY `ind_ssccp` (`shopid`,`status`,`ccid`,`cid`,`pcid`)
) ENGINE=MyISAM AUTO_INCREMENT=69 DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

DROP TABLE IF EXISTS `ims_superman_mall_item_attr`;
CREATE TABLE `ims_superman_mall_item_attr` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `uniacid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '公众号id',
  `shopid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '店铺id',
  `title` varchar(100) NOT NULL DEFAULT '' COMMENT '属性名称',
  `displayorder` int(11) NOT NULL DEFAULT '0' COMMENT '排序,先大后小',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uniq_ust` (`uniacid`,`shopid`,`title`),
  KEY `ind_uniacid` (`uniacid`),
  KEY `ind_shopid` (`shopid`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

DROP TABLE IF EXISTS `ims_superman_mall_item_browse`;
CREATE TABLE `ims_superman_mall_item_browse` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `uid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '会员id',
  `itemid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '产品id,每个会员记录最新的100条数据',
  `dateline` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '时间戳',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uniq_ui` (`uid`,`itemid`)
) ENGINE=MyISAM AUTO_INCREMENT=8 DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

DROP TABLE IF EXISTS `ims_superman_mall_item_category`;
CREATE TABLE `ims_superman_mall_item_category` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `uniacid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '公众号id',
  `pid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '父id,0:一级分类',
  `title` varchar(100) NOT NULL DEFAULT '' COMMENT '分类名称',
  `cover` varchar(255) NOT NULL DEFAULT '' COMMENT '封面图',
  `isshow` tinyint(4) NOT NULL DEFAULT '0' COMMENT '是否显示,0:否,1:是',
  `displayorder` int(11) NOT NULL DEFAULT '0' COMMENT '排序,先大后小',
  PRIMARY KEY (`id`),
  KEY `ind_up` (`uniacid`,`pid`)
) ENGINE=MyISAM AUTO_INCREMENT=13 DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

DROP TABLE IF EXISTS `ims_superman_mall_item_follow`;
CREATE TABLE `ims_superman_mall_item_follow` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `uid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '会员id',
  `itemid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '产品id',
  `status` tinyint(4) NOT NULL DEFAULT '0' COMMENT '关注状态,0:未关注,1:已关注',
  `dateline` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '时间戳',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uniq_ui` (`uid`,`itemid`),
  KEY `ind_us` (`uid`,`status`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

DROP TABLE IF EXISTS `ims_superman_mall_item_params`;
CREATE TABLE `ims_superman_mall_item_params` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `itemid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '商品id',
  `name` varchar(50) NOT NULL DEFAULT '' COMMENT '参数名称',
  `value` varchar(200) NOT NULL DEFAULT '' COMMENT '参数值',
  `displayorder` int(11) NOT NULL DEFAULT '0' COMMENT '排序,先大后小',
  PRIMARY KEY (`id`),
  KEY `ind_itemid` (`itemid`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

DROP TABLE IF EXISTS `ims_superman_mall_item_partner_attr`;
CREATE TABLE `ims_superman_mall_item_partner_attr` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `itemid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '商品id',
  `commission_custom` tinyint(4) NOT NULL DEFAULT '0' COMMENT '是否佣金自定义,0否,1是',
  `commission1_rate` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '一级佣金比率',
  `commission1_value` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '一级佣金固定值',
  `commission2_rate` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '二级佣金比率',
  `commission2_value` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '二级佣金固定值',
  `commission3_rate` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '三级佣金比率',
  `commission3_value` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '三级佣金固定值',
  `commission_show` tinyint(4) NOT NULL DEFAULT '0' COMMENT '是否显示佣金,0否,1是',
  `discount_rate` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '分销商优惠价比率',
  `discount_value` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '分销商优惠价固定值',
  PRIMARY KEY (`id`),
  UNIQUE KEY `ind_itemid` (`itemid`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

DROP TABLE IF EXISTS `ims_superman_mall_item_sku`;
CREATE TABLE `ims_superman_mall_item_sku` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `itemid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '产品id',
  `valueids` varchar(500) NOT NULL DEFAULT '' COMMENT '属性值id,多个id用逗号分隔',
  `cover` varchar(255) NOT NULL DEFAULT '' COMMENT '封面图',
  `weight` varchar(50) NOT NULL DEFAULT '' COMMENT '重量',
  `market_price` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '市场价',
  `cost_price` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '成本价',
  `price` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '销售价',
  `total` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '库存',
  `sales` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '销量',
  PRIMARY KEY (`id`),
  KEY `ind_itemid` (`itemid`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

DROP TABLE IF EXISTS `ims_superman_mall_item_value`;
CREATE TABLE `ims_superman_mall_item_value` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `attrid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '属性id',
  `value` varchar(100) NOT NULL DEFAULT '' COMMENT '属性值',
  `displayorder` int(11) NOT NULL DEFAULT '0' COMMENT '排序,先大后小',
  PRIMARY KEY (`id`),
  KEY `ind_attrid` (`attrid`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

DROP TABLE IF EXISTS `ims_superman_mall_kv`;
CREATE TABLE `ims_superman_mall_kv` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '公众号id',
  `skey` varchar(255) NOT NULL DEFAULT '' COMMENT 'key',
  `svalue` mediumtext COMMENT 'value',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uniq_us` (`uniacid`,`skey`)
) ENGINE=MyISAM AUTO_INCREMENT=56 DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

DROP TABLE IF EXISTS `ims_superman_mall_member_field`;
CREATE TABLE `ims_superman_mall_member_field` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '会员id',
  `idcard` varchar(50) NOT NULL DEFAULT '' COMMENT '身份证号',
  PRIMARY KEY (`id`),
  KEY `ind_uid` (`uid`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

DROP TABLE IF EXISTS `ims_superman_mall_member_poster`;
CREATE TABLE `ims_superman_mall_member_poster` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '公众号id',
  `uid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '会员id',
  `tid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT 'partner_poster.id',
  `type` varchar(20) NOT NULL DEFAULT '' COMMENT '类型:partner_poster(海报)',
  `path` varchar(255) NOT NULL DEFAULT '' COMMENT '图片路径',
  `media_id` varchar(100) NOT NULL DEFAULT '' COMMENT '多媒体微信id',
  `dateline` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '创建时间',
  PRIMARY KEY (`id`),
  KEY `ind_uniacid` (`uniacid`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

DROP TABLE IF EXISTS `ims_superman_mall_merge_groupon`;
CREATE TABLE `ims_superman_mall_merge_groupon` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '公众号id',
  `shopid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '店铺id',
  `mgid` int(11) NOT NULL DEFAULT '0' COMMENT '拼团id,0为团长',
  `uid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '会员id',
  `orderid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '订单id',
  `ordersn` varchar(50) NOT NULL DEFAULT '' COMMENT '订单号',
  `limit` int(11) NOT NULL DEFAULT '0' COMMENT '人数限制',
  `pay_status` tinyint(4) NOT NULL DEFAULT '0' COMMENT '支付状态,0:未支付,1:已支付',
  `status` tinyint(4) NOT NULL DEFAULT '0' COMMENT '自动化处理状态,0:未处理,1:拼团成功,2:未开启自动成团,3:退款成功,4:订单状态异常退款失败',
  `expiretime` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '过期时间戳',
  `createtime` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '创建时间戳',
  PRIMARY KEY (`id`),
  KEY `ind_uniacid` (`uniacid`),
  KEY `ind_shopid` (`shopid`),
  KEY `ind_mgid` (`mgid`),
  KEY `ind_uo` (`uid`,`orderid`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

DROP TABLE IF EXISTS `ims_superman_mall_myfetch`;
CREATE TABLE `ims_superman_mall_myfetch` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `uniacid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '公众号id',
  `shopid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '店铺id',
  `title` varchar(50) NOT NULL DEFAULT '' COMMENT '自取门店名称',
  `province` varchar(50) NOT NULL DEFAULT '' COMMENT '省',
  `city` varchar(50) NOT NULL DEFAULT '' COMMENT '市',
  `district` varchar(50) NOT NULL DEFAULT '' COMMENT '区',
  `address` varchar(255) NOT NULL DEFAULT '' COMMENT '地址',
  `username` varchar(50) NOT NULL DEFAULT '' COMMENT '联系人',
  `mobile` varchar(20) NOT NULL DEFAULT '' COMMENT '联系电话',
  `isshow` tinyint(4) NOT NULL DEFAULT '0' COMMENT '是否启用,0:否1:是',
  `displayorder` int(11) NOT NULL DEFAULT '0' COMMENT '排序,先大后小',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uniq_ust` (`uniacid`,`shopid`,`title`),
  KEY `ind_uniacid` (`uniacid`),
  KEY `ind_shopid` (`shopid`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

DROP TABLE IF EXISTS `ims_superman_mall_openid`;
CREATE TABLE `ims_superman_mall_openid` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `openid` varchar(50) NOT NULL DEFAULT '' COMMENT 'openid',
  `status` tinyint(4) NOT NULL DEFAULT '0' COMMENT '状态',
  `dateline` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '创建时间',
  PRIMARY KEY (`id`),
  KEY `ind_openid` (`openid`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

DROP TABLE IF EXISTS `ims_superman_mall_order`;
CREATE TABLE `ims_superman_mall_order` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `pid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '大于0为子订单,表示订单拆分',
  `uniacid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '公众号id',
  `shopid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '店铺id',
  `uid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '会员id',
  `ordersn` varchar(50) NOT NULL DEFAULT '' COMMENT '订单号',
  `partner3_id` int(11) NOT NULL DEFAULT '0' COMMENT '三级分销商id',
  `partner2_id` int(11) NOT NULL DEFAULT '0' COMMENT '二级分销商id',
  `partner1_id` int(11) NOT NULL DEFAULT '0' COMMENT '一级分销商id',
  `total` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '总数量',
  `price` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '总价格',
  `pay_credit` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '支付余额',
  `pay_type` tinyint(4) NOT NULL DEFAULT '0' COMMENT '支付方式,1:credit,2:wechat',
  `payment_no` varchar(100) NOT NULL DEFAULT '' COMMENT '微信支付单号',
  `pay_time` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '支付时间戳',
  `remark` varchar(500) NOT NULL DEFAULT '' COMMENT '备注',
  `username` varchar(100) NOT NULL DEFAULT '' COMMENT '收货人姓名',
  `mobile` varchar(20) NOT NULL DEFAULT '' COMMENT '收货人电话',
  `address` varchar(1000) NOT NULL DEFAULT '' COMMENT '收货地址',
  `zipcode` varchar(10) NOT NULL DEFAULT '' COMMENT '邮编',
  `express_title` varchar(100) NOT NULL DEFAULT '' COMMENT '快递公司',
  `express_alias` varchar(50) NOT NULL DEFAULT '' COMMENT '快递公司代号',
  `express_no` varchar(50) NOT NULL DEFAULT '' COMMENT '快递单号',
  `express_fee` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '快递费',
  `credit_type` varchar(10) NOT NULL DEFAULT '' COMMENT '积分类型',
  `reward_credit` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '返积分数，完成后返',
  `cash_credit` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '抵现积分，支付时扣',
  `dispatch_type` tinyint(4) NOT NULL DEFAULT '0' COMMENT '配送方式,1:快递,2:自取',
  `custom_delivery` varchar(500) NOT NULL DEFAULT '' COMMENT '自定义配送内容',
  `status` tinyint(4) NOT NULL DEFAULT '0' COMMENT '订单状态,-3:已关闭,-2:已删除,-1:已取消,0:待支付,1:已支付待发货,2:已发货,3:已收货,4:已完成,5:已退款',
  `extend` mediumtext COMMENT '扩展内容',
  `type` tinyint(4) NOT NULL DEFAULT '0' COMMENT '订单类型,0:普通订单,1:拼团订单',
  `commission_status` tinyint(4) NOT NULL DEFAULT '0' COMMENT '状态,0未结算,1已结算',
  `checkout` tinyint(4) NOT NULL DEFAULT '0' COMMENT '核销属性,0:否,1:是',
  `payu_rid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '服务商模块rid',
  `partner3_commission` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '三级分销商总佣金',
  `partner2_commission` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '二级分销商总佣金',
  `partner1_commission` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '一级分销商总佣金',
  `createtime` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '创建时间戳',
  `updatetime` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '更新时间戳',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uniq_uo` (`uniacid`,`ordersn`),
  KEY `ind_usc` (`uniacid`,`status`,`createtime`),
  KEY `ind_ssc` (`shopid`,`status`,`createtime`),
  KEY `ind_us` (`uid`,`status`)
) ENGINE=MyISAM AUTO_INCREMENT=10 DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

DROP TABLE IF EXISTS `ims_superman_mall_order_item`;
CREATE TABLE `ims_superman_mall_order_item` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `orderid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '订单id',
  `itemid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '商品id',
  `type` tinyint(4) NOT NULL DEFAULT '0' COMMENT '类型,1:实物,2:虚拟',
  `title` varchar(255) NOT NULL DEFAULT '' COMMENT '标题',
  `number` varchar(50) NOT NULL DEFAULT '' COMMENT '货号',
  `cover` varchar(255) NOT NULL DEFAULT '' COMMENT '封面图',
  `total` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '数量',
  `price` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '价格',
  `special` tinyint(4) NOT NULL DEFAULT '0' COMMENT '商品标识(superman_mall_item.special)',
  `skuid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '商品规格id',
  `sku` text COMMENT '规格',
  `extend` text COMMENT '扩展内容',
  `iscomment` tinyint(4) NOT NULL DEFAULT '0' COMMENT '是否评价,0:未评,1:已评',
  `service_type` tinyint(4) NOT NULL DEFAULT '0' COMMENT '售后类型(参考superman_mall_service.type字段)',
  `partner3_commission` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '三级分销商佣金',
  `partner2_commission` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '二级分销商佣金',
  `partner1_commission` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '一级分销商佣金',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uniq_ois` (`orderid`,`itemid`,`skuid`)
) ENGINE=MyISAM AUTO_INCREMENT=10 DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

DROP TABLE IF EXISTS `ims_superman_mall_order_print`;
CREATE TABLE `ims_superman_mall_order_print` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '公众号id',
  `shopid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '商户id',
  `printersn` varchar(255) NOT NULL DEFAULT '' COMMENT '打印机编号',
  `ordersn` varchar(50) NOT NULL DEFAULT '' COMMENT '订单号',
  `searchid` varchar(255) NOT NULL DEFAULT '' COMMENT '查询打印状态id',
  `status` tinyint(4) NOT NULL DEFAULT '0' COMMENT '状态,0:打印中,1:已打印',
  `dateline` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '时间戳',
  PRIMARY KEY (`id`),
  KEY `ind_uniacid` (`uniacid`),
  KEY `ind_shopid` (`shopid`),
  KEY `ind_printersn` (`printersn`),
  KEY `ind_ordersn` (`ordersn`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

DROP TABLE IF EXISTS `ims_superman_mall_partner`;
CREATE TABLE `ims_superman_mall_partner` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '公众号id',
  `uid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '会员id,0为系统',
  `openid` varchar(50) NOT NULL DEFAULT '' COMMENT 'openid',
  `groupid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '分销等级id',
  `recommendid` int(11) NOT NULL DEFAULT '0' COMMENT '推荐人id(superman_mall_partner.id)',
  `position` int(11) NOT NULL DEFAULT '0' COMMENT '位置,从1开始',
  `downline1` int(11) NOT NULL DEFAULT '0' COMMENT '一级人数(含所有状态分销商)',
  `downline2` int(11) NOT NULL DEFAULT '0' COMMENT '二级人数(含所有状态分销商)',
  `downline3` int(11) NOT NULL DEFAULT '0' COMMENT '三级人数(含所有状态分销商)',
  `commission_total` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '累计佣金',
  `commission_balance` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '可提佣金',
  `commission_received` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '已提佣金',
  `order_total` int(11) NOT NULL DEFAULT '0' COMMENT '推广订单总数(一级分销商+客户订单)',
  `status` tinyint(4) NOT NULL DEFAULT '0' COMMENT '状态,-2禁用,-1等待中,0待审核,1正常',
  `createtime` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '创建时间戳',
  `updatetime` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '更新时间戳',
  PRIMARY KEY (`id`),
  KEY `ind_ug` (`uniacid`,`groupid`),
  KEY `ind_up` (`uniacid`,`position`),
  KEY `ind_us` (`uniacid`,`status`),
  KEY `ind_uid` (`uid`),
  KEY `ind_openid` (`openid`),
  KEY `ind_recommendid` (`recommendid`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

DROP TABLE IF EXISTS `ims_superman_mall_partner_getcash_log`;
CREATE TABLE `ims_superman_mall_partner_getcash_log` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '公众号id',
  `partnerid` int(11) NOT NULL DEFAULT '0' COMMENT '分销商id',
  `account_type` varchar(10) NOT NULL DEFAULT '' COMMENT '账户类型(wechat,alipay,bank)',
  `account` text COMMENT '账户序列化数据',
  `money` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '金额',
  `apply_remark` text COMMENT '申请备注',
  `orderno` varchar(50) NOT NULL DEFAULT '' COMMENT '提现单号',
  `status` tinyint(4) NOT NULL DEFAULT '0' COMMENT '状态,-3:已归还金额,-2:付款失败,-1:审核失败,0:待审核,1:审核通过,2:已付款',
  `wxpay_result` text COMMENT '微信付款结果',
  `wxpay_paymentno` varchar(50) NOT NULL DEFAULT '' COMMENT '微信付款交易号',
  `operator` varchar(50) NOT NULL DEFAULT '' COMMENT '操作人',
  `remark` text COMMENT '备注',
  `paytime` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '支付时间戳',
  `createtime` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '创建时间戳',
  `updatetime` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '更新时间戳',
  PRIMARY KEY (`id`),
  KEY `ind_uniacid` (`uniacid`),
  KEY `ind_partnerid` (`partnerid`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

DROP TABLE IF EXISTS `ims_superman_mall_partner_group`;
CREATE TABLE `ims_superman_mall_partner_group` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '公众号id',
  `title` varchar(100) NOT NULL DEFAULT '' COMMENT '名称',
  `rate1` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '一级分销比例',
  `rate2` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '二级分销比例',
  `rate3` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '三级分销比例',
  `condition` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '升级条件值',
  `createtime` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '创建时间戳',
  PRIMARY KEY (`id`),
  KEY `ind_uniacid` (`uniacid`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

DROP TABLE IF EXISTS `ims_superman_mall_partner_poster`;
CREATE TABLE `ims_superman_mall_partner_poster` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '公众号id',
  `name` varchar(50) NOT NULL DEFAULT '' COMMENT '名称',
  `bgimg` varchar(255) NOT NULL DEFAULT '' COMMENT '背景图',
  `widgets` mediumtext COMMENT '组件',
  `isdefault` tinyint(4) NOT NULL DEFAULT '0' COMMENT '是否默认,0:否,1:是',
  `partner_downline` tinyint(4) NOT NULL DEFAULT '0' COMMENT '成为下线,0:否,1:是',
  `dateline` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '创建时间',
  PRIMARY KEY (`id`),
  KEY `ind_uniacid` (`uniacid`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

DROP TABLE IF EXISTS `ims_superman_mall_partner_stat`;
CREATE TABLE `ims_superman_mall_partner_stat` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '公众号id',
  `partnerid` int(11) NOT NULL DEFAULT '0' COMMENT '分销商id',
  `type` tinyint(4) NOT NULL DEFAULT '1' COMMENT '类型,0虚拟分销商,1真实分销商',
  `daytime` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '日期(20160101),结算时间',
  `commission_total` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '每天累计佣金',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uniq_ptd` (`partnerid`,`type`,`daytime`),
  KEY `ind_uniacid` (`uniacid`),
  KEY `ind_partnerid` (`partnerid`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

DROP TABLE IF EXISTS `ims_superman_mall_partner_virtual`;
CREATE TABLE `ims_superman_mall_partner_virtual` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `nickname` varchar(20) NOT NULL DEFAULT '' COMMENT '昵称',
  `avatar` varchar(255) NOT NULL DEFAULT '' COMMENT '头像',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

DROP TABLE IF EXISTS `ims_superman_mall_platform_stat`;
CREATE TABLE `ims_superman_mall_platform_stat` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '公众号id',
  `daytime` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '日期(20160101)',
  `shop_total` int(11) NOT NULL DEFAULT '0' COMMENT '商户数',
  `partner_total` int(11) NOT NULL DEFAULT '0' COMMENT '分销商数',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uniq_ud` (`uniacid`,`daytime`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

DROP TABLE IF EXISTS `ims_superman_mall_postage_template`;
CREATE TABLE `ims_superman_mall_postage_template` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `uniacid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '公众号id',
  `shopid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '店铺id',
  `title` varchar(50) NOT NULL DEFAULT '' COMMENT '名称',
  `free` tinyint(4) NOT NULL DEFAULT '0' COMMENT '是否包邮,0:否,1:是',
  `valuation` tinyint(4) NOT NULL DEFAULT '0' COMMENT '计价方式,1:件数,2:重量,3:体积',
  `createtime` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '创建时间戳',
  `updatetime` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '更新时间戳',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uniq_ust` (`uniacid`,`shopid`,`title`),
  KEY `ind_uniacid` (`uniacid`),
  KEY `ind_shopid` (`shopid`)
) ENGINE=MyISAM AUTO_INCREMENT=2 DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

DROP TABLE IF EXISTS `ims_superman_mall_postage_template_value`;
CREATE TABLE `ims_superman_mall_postage_template_value` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `templateid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '运费模板id',
  `area` mediumtext COMMENT '省级区域',
  `start` varchar(50) NOT NULL DEFAULT '' COMMENT '起始',
  `postage` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '运费',
  `step` varchar(50) NOT NULL DEFAULT '' COMMENT '步进',
  `renew` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '续费',
  PRIMARY KEY (`id`),
  KEY `ind_templateid` (`templateid`)
) ENGINE=MyISAM AUTO_INCREMENT=3 DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

DROP TABLE IF EXISTS `ims_superman_mall_service`;
CREATE TABLE `ims_superman_mall_service` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '公众号id',
  `shopid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '店铺id',
  `oiid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '订单商品id(superman_mall_order_item)',
  `type` tinyint(4) NOT NULL DEFAULT '0' COMMENT '售后类型,1:退货,2:换货,3:维修',
  `total` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '数量',
  `remark` text COMMENT '问题描述',
  `img` varchar(500) NOT NULL DEFAULT '' COMMENT '图片',
  `status` tinyint(4) NOT NULL DEFAULT '0' COMMENT '状态,-1:已取消,0:处理中,1:已完成',
  `money` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '退款金额',
  `payment_no` varchar(100) NOT NULL DEFAULT '' COMMENT '退款成功后的微信支付交易号',
  `extend` text COMMENT '扩展',
  `createtime` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '创建时间戳',
  `updatetime` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '更新时间戳',
  PRIMARY KEY (`id`),
  KEY `ind_uniacid` (`uniacid`),
  KEY `ind_shopid` (`shopid`),
  KEY `ind_ot` (`oiid`,`type`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

DROP TABLE IF EXISTS `ims_superman_mall_service_progress`;
CREATE TABLE `ims_superman_mall_service_progress` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `srvid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '售后服务id',
  `userid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '操作人id',
  `title` varchar(500) NOT NULL DEFAULT '' COMMENT '状态名称',
  `remark` text COMMENT '备注',
  `dateline` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '时间戳',
  PRIMARY KEY (`id`),
  KEY `ind_srvid` (`srvid`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

DROP TABLE IF EXISTS `ims_superman_mall_setting`;
CREATE TABLE `ims_superman_mall_setting` (
  `skey` varchar(100) NOT NULL DEFAULT '' COMMENT 'key',
  `svalue` text COMMENT 'value',
  PRIMARY KEY (`skey`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

DROP TABLE IF EXISTS `ims_superman_mall_shop`;
CREATE TABLE `ims_superman_mall_shop` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '公众号id',
  `countryid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '国家id',
  `title` varchar(50) NOT NULL DEFAULT '' COMMENT '店铺名称',
  `description` varchar(500) NOT NULL DEFAULT '' COMMENT '店铺简介',
  `logo` varchar(255) NOT NULL DEFAULT '' COMMENT '店铺logo',
  `business_scope` varchar(100) NOT NULL DEFAULT '' COMMENT '经营范围',
  `province` varchar(50) NOT NULL DEFAULT '' COMMENT '省',
  `city` varchar(50) NOT NULL DEFAULT '' COMMENT '市',
  `district` varchar(50) NOT NULL DEFAULT '' COMMENT '区',
  `address` varchar(255) NOT NULL DEFAULT '' COMMENT '地址',
  `latitude` varchar(20) NOT NULL DEFAULT '' COMMENT '纬度',
  `longitude` varchar(20) NOT NULL DEFAULT '' COMMENT '经度',
  `contact` varchar(50) NOT NULL DEFAULT '' COMMENT '联系人',
  `phone` varchar(20) NOT NULL DEFAULT '' COMMENT '联系电话',
  `sms_total` int(11) NOT NULL DEFAULT '0' COMMENT '短信条数',
  `status` tinyint(4) NOT NULL DEFAULT '0' COMMENT '状态,-1:审核失败,0:审核中,1:正常',
  `fee_max` varchar(20) NOT NULL DEFAULT '' COMMENT '最大费用',
  `order_payed` int(11) NOT NULL DEFAULT '0' COMMENT '订单销量',
  `ishome` tinyint(4) NOT NULL DEFAULT '0' COMMENT '首页推荐,0:否,1:是',
  `displayorder` int(11) NOT NULL DEFAULT '0' COMMENT '排序,先大后小',
  `fee_min` varchar(20) NOT NULL DEFAULT '' COMMENT '最小费用',
  `fee_rate` varchar(20) NOT NULL DEFAULT '' COMMENT '费用率',
  `createtime` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '创建时间戳',
  `updatetime` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '更新时间戳',
  `payu_rid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '服务商模块rid',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uniq_ut` (`uniacid`,`title`),
  KEY `ind_uniacid` (`uniacid`)
) ENGINE=MyISAM AUTO_INCREMENT=17 DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

DROP TABLE IF EXISTS `ims_superman_mall_shop_activity`;
CREATE TABLE `ims_superman_mall_shop_activity` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '公众号id',
  `shopid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '商户id',
  `title` varchar(255) NOT NULL DEFAULT '' COMMENT '活动名称',
  `type` tinyint(4) NOT NULL DEFAULT '0' COMMENT '活动类型:1包邮,2打折,3满减',
  `starttime` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '开始时间',
  `endtime` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '结束时间',
  `dateline` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '创建时间',
  `isglobal` tinyint(4) NOT NULL DEFAULT '0' COMMENT '应用于全店:0,否;1,是',
  `extend` mediumtext COMMENT '优惠详情',
  `inner_title` varchar(255) NOT NULL DEFAULT '' COMMENT '活动备注',
  PRIMARY KEY (`id`),
  KEY `ind_uniacid` (`uniacid`),
  KEY `ind_shopid` (`shopid`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

DROP TABLE IF EXISTS `ims_superman_mall_shop_activity_item`;
CREATE TABLE `ims_superman_mall_shop_activity_item` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `activityid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '活动id',
  `itemid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '商品id',
  `extend` mediumtext COMMENT '优惠详情',
  PRIMARY KEY (`id`),
  KEY `ind_activityid` (`activityid`),
  KEY `ind_itemid` (`itemid`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

DROP TABLE IF EXISTS `ims_superman_mall_shop_attachment`;
CREATE TABLE `ims_superman_mall_shop_attachment` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `shopid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '商户id',
  `attachid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '附件id(core_attachment.id)',
  PRIMARY KEY (`id`),
  UNIQUE KEY `ind_sa` (`shopid`,`attachid`)
) ENGINE=MyISAM AUTO_INCREMENT=2 DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

DROP TABLE IF EXISTS `ims_superman_mall_shop_delivery`;
CREATE TABLE `ims_superman_mall_shop_delivery` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '公众号id',
  `shopid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '商户id',
  `content` varchar(500) NOT NULL DEFAULT '' COMMENT '内容',
  PRIMARY KEY (`id`),
  KEY `ind_uniacid` (`uniacid`),
  KEY `ind_shopid` (`shopid`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

DROP TABLE IF EXISTS `ims_superman_mall_shop_express`;
CREATE TABLE `ims_superman_mall_shop_express` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `shopid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '商户id',
  `ecomid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '快递公司id',
  PRIMARY KEY (`id`),
  UNIQUE KEY `ind_se` (`shopid`,`ecomid`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

DROP TABLE IF EXISTS `ims_superman_mall_shop_getcash_log`;
CREATE TABLE `ims_superman_mall_shop_getcash_log` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '公众号id',
  `shopid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '商户id',
  `account_type` varchar(10) NOT NULL DEFAULT '' COMMENT '账户类型(wechat,alipay,bank)',
  `account` text COMMENT '账户序列化数据',
  `money` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '金额',
  `apply_remark` text COMMENT '申请备注',
  `status` tinyint(4) NOT NULL DEFAULT '0' COMMENT '状态,0:待支付,1:已支付',
  `wxpay_result` text COMMENT '微信付款结果',
  `wxpay_orderno` varchar(50) NOT NULL DEFAULT '' COMMENT '微信付款订单号',
  `wxpay_paymentno` varchar(50) NOT NULL DEFAULT '' COMMENT '微信付款交易号',
  `operator` varchar(50) NOT NULL DEFAULT '' COMMENT '操作人',
  `remark` text COMMENT '备注',
  `fee_rate` varchar(20) NOT NULL DEFAULT '' COMMENT '费用率',
  `fee_min` varchar(20) NOT NULL DEFAULT '' COMMENT '最小费用',
  `fee_max` varchar(20) NOT NULL DEFAULT '' COMMENT '最大费用',
  `service_fee` varchar(20) NOT NULL DEFAULT '' COMMENT '服务费',
  `paytime` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '支付时间戳',
  `createtime` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '创建时间戳',
  `updatetime` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '更新时间戳',
  PRIMARY KEY (`id`),
  KEY `ind_uniacid` (`uniacid`),
  KEY `ind_shopid` (`shopid`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

DROP TABLE IF EXISTS `ims_superman_mall_shop_getcash_user`;
CREATE TABLE `ims_superman_mall_shop_getcash_user` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '公众号id',
  `shopid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '商户id',
  `openid` varchar(50) NOT NULL DEFAULT '' COMMENT '为空时从shop_user.openid初始化',
  `alipay_account` varchar(200) NOT NULL DEFAULT '' COMMENT '支付宝账户',
  `alipay_username` varchar(200) NOT NULL DEFAULT '' COMMENT '支付宝账户姓名',
  `bank_name` varchar(200) NOT NULL DEFAULT '' COMMENT '银行名称',
  `bank_account` varchar(200) NOT NULL DEFAULT '' COMMENT '开户行',
  `bank_cardno` varchar(200) NOT NULL DEFAULT '' COMMENT '银行卡号',
  `bank_username` varchar(200) NOT NULL DEFAULT '' COMMENT '开卡人姓名',
  `createtime` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '创建时间戳',
  `updatetime` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '更新时间戳',
  PRIMARY KEY (`id`),
  KEY `ind_uniacid` (`uniacid`),
  KEY `ind_shopid` (`shopid`)
) ENGINE=MyISAM AUTO_INCREMENT=2 DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

DROP TABLE IF EXISTS `ims_superman_mall_shop_money`;
CREATE TABLE `ims_superman_mall_shop_money` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '公众号id',
  `shopid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '商户id',
  `balance` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '余额',
  `updatetime` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '更新时间戳(最后结算时间)',
  PRIMARY KEY (`id`),
  KEY `ind_uniacid` (`uniacid`),
  KEY `ind_shopid` (`shopid`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

DROP TABLE IF EXISTS `ims_superman_mall_shop_money_log`;
CREATE TABLE `ims_superman_mall_shop_money_log` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '公众号id',
  `shopid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '商户id',
  `type` tinyint(4) NOT NULL DEFAULT '0' COMMENT '类型,1:收入,2:支出',
  `money` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '金额',
  `operator` varchar(50) NOT NULL DEFAULT '' COMMENT '操作人',
  `remark` text COMMENT '备注',
  `dateline` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '时间戳',
  PRIMARY KEY (`id`),
  KEY `ind_uniacid` (`uniacid`),
  KEY `ind_shopid` (`shopid`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

DROP TABLE IF EXISTS `ims_superman_mall_shop_money_stat`;
CREATE TABLE `ims_superman_mall_shop_money_stat` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '公众号id',
  `shopid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '商户id',
  `stat_date` date NOT NULL DEFAULT '0000-00-00' COMMENT '统计日期',
  `order_total` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '订单总数',
  `order_price` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '订单总余额',
  `status` tinyint(4) NOT NULL DEFAULT '0' COMMENT '是否结算,0:未结算,1:已结算',
  `operator` varchar(50) NOT NULL DEFAULT '' COMMENT '操作人',
  `dateline` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '时间戳',
  PRIMARY KEY (`id`),
  UNIQUE KEY `ind_ss` (`shopid`,`stat_date`),
  KEY `ind_uniacid` (`uniacid`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

DROP TABLE IF EXISTS `ims_superman_mall_shop_printer`;
CREATE TABLE `ims_superman_mall_shop_printer` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '公众号id',
  `shopid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '商户id',
  `title` varchar(255) NOT NULL DEFAULT '' COMMENT '名称',
  `provider` varchar(255) NOT NULL DEFAULT '' COMMENT '厂商,feie|...',
  `sn` varchar(255) NOT NULL DEFAULT '' COMMENT '编号',
  `key` varchar(255) NOT NULL DEFAULT '' COMMENT '密钥',
  `print_type` tinyint(4) NOT NULL DEFAULT '0' COMMENT '打印方式,1:订单提交,2:订单付款',
  `times` int(11) NOT NULL DEFAULT '1' COMMENT '打印次数',
  `qrcode_url` varchar(500) NOT NULL DEFAULT '' COMMENT '二维码网址',
  `status` tinyint(4) NOT NULL DEFAULT '0' COMMENT '状态,0:关闭,1:开启',
  `head` varchar(255) NOT NULL DEFAULT '' COMMENT '自定义顶部信息',
  `foot` varchar(255) NOT NULL DEFAULT '' COMMENT '自定义底部信息',
  `dateline` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '时间戳',
  PRIMARY KEY (`id`),
  KEY `ind_uniacid` (`uniacid`),
  KEY `ind_shopid` (`shopid`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

DROP TABLE IF EXISTS `ims_superman_mall_shop_sms_sendlog`;
CREATE TABLE `ims_superman_mall_shop_sms_sendlog` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `shopid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '商户id',
  `provider` varchar(50) NOT NULL DEFAULT '' COMMENT '服务商',
  `mobile` varchar(20) NOT NULL DEFAULT '' COMMENT '手机号',
  `content` text COMMENT '备注',
  `dateline` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '时间戳',
  PRIMARY KEY (`id`),
  KEY `ind_shopid` (`shopid`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

DROP TABLE IF EXISTS `ims_superman_mall_shop_sms_total`;
CREATE TABLE `ims_superman_mall_shop_sms_total` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '公众号id',
  `shopid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '商户id',
  `total` int(11) NOT NULL DEFAULT '0' COMMENT '短信条数',
  `new_total` int(11) NOT NULL DEFAULT '0' COMMENT '短信条数',
  `operator` varchar(100) NOT NULL DEFAULT '' COMMENT '操作人',
  `dateline` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '时间戳',
  PRIMARY KEY (`id`),
  KEY `ind_uniacid` (`uniacid`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

DROP TABLE IF EXISTS `ims_superman_mall_shop_trigger`;
CREATE TABLE `ims_superman_mall_shop_trigger` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '公众号id',
  `shopid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '商户id',
  `title` varchar(100) NOT NULL DEFAULT '' COMMENT '标题',
  `action` varchar(50) NOT NULL DEFAULT '' COMMENT '动作',
  `status` tinyint(4) NOT NULL DEFAULT '0' COMMENT '状态,0关闭,1开启',
  `dateline` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '时间戳',
  PRIMARY KEY (`id`),
  KEY `ind_sa` (`shopid`,`action`)
) ENGINE=MyISAM AUTO_INCREMENT=3 DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

DROP TABLE IF EXISTS `ims_superman_mall_shop_trigger_notice`;
CREATE TABLE `ims_superman_mall_shop_trigger_notice` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `triggerid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '触发器id',
  `type` tinyint(4) NOT NULL DEFAULT '0' COMMENT '类型,1:微信,2:短信',
  `receiver` varchar(50) NOT NULL DEFAULT '' COMMENT '类型是微信openid,短信mobile',
  `message` text COMMENT '消息内容',
  PRIMARY KEY (`id`),
  KEY `ind_triggerid` (`triggerid`)
) ENGINE=MyISAM AUTO_INCREMENT=3 DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

DROP TABLE IF EXISTS `ims_superman_mall_shop_user`;
CREATE TABLE `ims_superman_mall_shop_user` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '公众号id',
  `countryid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '国家id',
  `shopid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '商户id',
  `groupid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '账号组id,0为管理员',
  `openid` varchar(50) NOT NULL DEFAULT '',
  `username` varchar(30) NOT NULL DEFAULT '' COMMENT '账号',
  `password` varchar(100) NOT NULL DEFAULT '' COMMENT '密码',
  `salt` varchar(10) NOT NULL DEFAULT '' COMMENT '加密盐',
  `status` tinyint(4) NOT NULL DEFAULT '0' COMMENT '状态,0:待审核,1:正常,2:禁用',
  `binding_flag` tinyint(4) NOT NULL DEFAULT '0' COMMENT '绑定标志,-1:重复绑定,0:待绑定,1:确认绑定',
  `mobile` varchar(20) NOT NULL DEFAULT '' COMMENT '手机号',
  `lastvisit` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '最后访问时间戳',
  `lastip` varchar(15) NOT NULL DEFAULT '' COMMENT '最后访问ip',
  `remark` text COMMENT '备注',
  `starttime` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '开始时间戳',
  `expiretime` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '过期时间戳',
  `dateline` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '注册时间戳',
  PRIMARY KEY (`id`),
  KEY `ind_uniacid` (`uniacid`),
  KEY `ind_shopid` (`shopid`)
) ENGINE=MyISAM AUTO_INCREMENT=4 DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

DROP TABLE IF EXISTS `ims_superman_mall_shop_user_group`;
CREATE TABLE `ims_superman_mall_shop_user_group` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `shopid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '商户id',
  `title` varchar(30) NOT NULL DEFAULT '' COMMENT '名称',
  `permission` text COMMENT '权限序列化数据(|分隔符)',
  PRIMARY KEY (`id`),
  KEY `ind_shopid` (`shopid`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

DROP TABLE IF EXISTS `ims_superman_mall_sms_verify`;
CREATE TABLE `ims_superman_mall_sms_verify` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `openid` varchar(50) NOT NULL DEFAULT '',
  `mobile` varchar(20) NOT NULL DEFAULT '' COMMENT '手机号',
  `verifycode` varchar(20) NOT NULL DEFAULT '' COMMENT '验证码',
  `ip` varchar(15) NOT NULL DEFAULT '' COMMENT 'ip地址',
  `count` int(11) NOT NULL DEFAULT '0' COMMENT '发送次数(结合sendtime控制发送次数)',
  `sendtime` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '发送时间戳',
  PRIMARY KEY (`id`),
  KEY `ind_om` (`openid`,`mobile`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

DROP TABLE IF EXISTS `ims_superman_mall_stat`;
CREATE TABLE `ims_superman_mall_stat` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '公众号id',
  `shopid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '店铺id',
  `daytime` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '日期',
  `page_view` int(11) NOT NULL DEFAULT '0' COMMENT 'pv',
  `unique_visitor` int(11) NOT NULL DEFAULT '0' COMMENT 'uv',
  `item_view` int(11) NOT NULL DEFAULT '0' COMMENT '商品浏览数',
  `item_share` int(11) NOT NULL DEFAULT '0' COMMENT '商品分享数',
  `item_comment` int(11) NOT NULL DEFAULT '0' COMMENT '商品评论数',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uniq_usd` (`uniacid`,`shopid`,`daytime`),
  KEY `ind_ud` (`uniacid`,`daytime`),
  KEY `ind_sd` (`shopid`,`daytime`)
) ENGINE=MyISAM AUTO_INCREMENT=6 DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

DROP TABLE IF EXISTS `ims_superman_mall_trigger`;
CREATE TABLE `ims_superman_mall_trigger` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uniacid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '公众号id',
  `title` varchar(100) NOT NULL DEFAULT '' COMMENT '标题',
  `action` varchar(50) NOT NULL DEFAULT '' COMMENT '动作SupermanTrigger->actions[key]',
  `status` tinyint(4) NOT NULL DEFAULT '0' COMMENT '状态,0关闭,1开启',
  `dateline` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '时间戳',
  PRIMARY KEY (`id`),
  KEY `ind_ua` (`uniacid`,`action`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

DROP TABLE IF EXISTS `ims_superman_mall_trigger_notice`;
CREATE TABLE `ims_superman_mall_trigger_notice` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `triggerid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '触发器id',
  `type` tinyint(4) NOT NULL DEFAULT '0' COMMENT '类型,1:微信,2:短信',
  `receiver` varchar(50) NOT NULL DEFAULT '' COMMENT '类型是微信openid,短信mobile',
  `message` text COMMENT '消息内容',
  PRIMARY KEY (`id`),
  KEY `ind_triggerid` (`triggerid`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;]]></install>
	<uninstall><![CDATA[]]></uninstall>
	<upgrade><![CDATA[]]></upgrade>
</manifest>
